(()=>{var e={};e.id=974,e.ids=[974],e.modules={320:(e,t,r)=>{"use strict";r.d(t,{HomeContent:()=>i});let i=(0,r(2907).registerClientReference)(function(){throw Error("Attempted to call HomeContent() from the server but HomeContent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Luke\\Downloads\\fix it\\Spotify-Widget-App\\components\\home-content.tsx","HomeContent")},597:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var i=r(7413),s=r(1120),n=r(320);async function o({searchParams:e}){let t=await Promise.resolve(e),r=t?.error,o=t?.details||t?.message;return(0,i.jsx)(s.Suspense,{fallback:(0,i.jsx)("div",{className:"min-h-screen bg-[#050510] flex items-center justify-center",children:"Loading..."}),children:(0,i.jsx)(n.HomeContent,{error:r,errorDetails:o})})}},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2704:()=>{},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4718:(e,t,r)=>{Promise.resolve().then(r.bind(r,8782))},4982:(e,t,r)=>{Promise.resolve().then(r.bind(r,320))},5955:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6346,23)),Promise.resolve().then(r.t.bind(r,7924,23)),Promise.resolve().then(r.t.bind(r,5656,23)),Promise.resolve().then(r.t.bind(r,99,23)),Promise.resolve().then(r.t.bind(r,8243,23)),Promise.resolve().then(r.t.bind(r,8827,23)),Promise.resolve().then(r.t.bind(r,2763,23)),Promise.resolve().then(r.t.bind(r,7173,23))},6782:()=>{},7535:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>d});var i=r(5239),s=r(8088),n=r(8170),o=r.n(n),a=r(893),l={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);r.d(t,l);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,597)),"C:\\Users\\Luke\\Downloads\\fix it\\Spotify-Widget-App\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,8014)),"C:\\Users\\Luke\\Downloads\\fix it\\Spotify-Widget-App\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,5284,23)),"next/dist/client/components/unauthorized-error"]}],c=["C:\\Users\\Luke\\Downloads\\fix it\\Spotify-Widget-App\\app\\page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},m=new i.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8014:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n,metadata:()=>s});var i=r(7413);r(2704);let s={title:"Spotify Dashboard",description:"Your personal Spotify music dashboard"};function n({children:e}){return(0,i.jsx)("html",{lang:"en",children:(0,i.jsx)("body",{children:e})})}},8782:(e,t,r)=>{"use strict";r.d(t,{HomeContent:()=>c});var i=r(687),s=r(3210),n=r(6189),o=r(5101);let a=(0,r(2688).A)("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);function l(){(0,n.useRouter)();let[e,t]=(0,s.useState)(!1),[r,l]=(0,s.useState)(""),d=async()=>{try{t(!0),l("");let e=await fetch("/api/auth/login",{method:"GET"});if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to initiate login")}let r=await e.json();if(r.url)window.location.href=r.url;else throw Error("No authorization URL returned")}catch(e){console.error("Login failed:",e),l(e.message||"Failed to connect with Spotify")}finally{t(!1)}};return(0,i.jsxs)("div",{className:"flex flex-col items-center",children:[(0,i.jsx)(o.P.button,{whileHover:{scale:1.03},whileTap:{scale:.97},disabled:e,onClick:d,className:"bg-[#1ED760] text-[#15152a] font-medium py-3 px-6 rounded-full w-full flex items-center justify-center space-x-2 shadow-xl",children:e?(0,i.jsx)(o.P.div,{animate:{rotate:360},transition:{repeat:1/0,duration:1,ease:"linear"},className:"h-5 w-5 border-2 border-[#15152a] border-t-transparent rounded-full"}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a,{className:"h-5 w-5"}),(0,i.jsx)("span",{children:"Connect with Spotify"})]})}),r&&(0,i.jsx)(o.P.p,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},className:"text-red-400 mt-3 text-sm",children:r})]})}function d({className:e=""}){return(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:e,fill:"none",children:[(0,i.jsx)("circle",{cx:"12",cy:"12",r:"11",fill:"#1ED760"}),(0,i.jsx)("path",{d:"M6.5 9.25C10.5 7.5 15 7.75 18 9C18.5 9.25 19 8.75 18.5 8.25C15 6.75 10 6.5 6 8.5C5.5 8.75 6 9.5 6.5 9.25Z",fill:"white"}),(0,i.jsx)("path",{d:"M6.5 12.25C10 10.75 13.5 11 16.5 12C17 12.25 17.25 11.75 16.75 11.5C13.5 10.25 9.5 10 6 11.75C5.5 12 6 12.5 6.5 12.25Z",fill:"white"}),(0,i.jsx)("path",{d:"M7 15.25C9.5 14.25 12 14.5 14 15.25C14.25 15.5 14.5 15 14.25 14.75C12 14 9.5 13.75 6.75 14.75C6.5 15 6.5 15.5 7 15.25Z",fill:"white"})]})}function c({error:e,errorDetails:t}){return(0,i.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-[#050510] text-white p-4",children:(0,i.jsxs)(o.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md text-center p-10 bg-gradient-to-br from-[#15152a] to-[#23233a] rounded-2xl shadow-2xl backdrop-blur-lg",children:[(0,i.jsx)(o.P.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,type:"spring",stiffness:300,damping:25},children:(0,i.jsx)(d,{className:"w-16 h-16 mx-auto mb-6"})}),(0,i.jsx)(o.P.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-3xl font-bold mb-2",children:"Spotify Music"}),(0,i.jsx)(o.P.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"text-white/60 mb-8",children:"Your personal music dashboard"}),e&&(0,i.jsxs)(o.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-red-900/30 border border-red-700/50 rounded-xl p-4 mb-6 text-left backdrop-blur-md",children:[(0,i.jsx)("h3",{className:"font-bold text-red-400",children:"Authentication Error"}),(0,i.jsx)("p",{className:"text-sm",children:e.replace(/_/g," ")}),t&&(0,i.jsx)("p",{className:"text-xs mt-2 text-red-300",children:t})]}),(0,i.jsx)(o.P.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},children:(0,i.jsx)(l,{})}),(0,i.jsxs)(o.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},className:"mt-10 text-xs text-white/30 bg-black/20 p-4 rounded-xl backdrop-blur-md",children:[(0,i.jsx)("p",{children:"Make sure you have configured the environment variables:"}),(0,i.jsxs)("div",{className:"mt-2 grid grid-cols-1 gap-1 font-mono",children:[(0,i.jsx)("div",{className:"bg-white/5 p-1 rounded",children:"SPOTIFY_CLIENT_ID"}),(0,i.jsx)("div",{className:"bg-white/5 p-1 rounded",children:"SPOTIFY_CLIENT_SECRET"}),(0,i.jsx)("div",{className:"bg-white/5 p-1 rounded truncate",children:"SPOTIFY_REDIRECT_URI"})]})]})]})})}},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9478:()=>{},9931:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6444,23)),Promise.resolve().then(r.t.bind(r,6042,23)),Promise.resolve().then(r.t.bind(r,8170,23)),Promise.resolve().then(r.t.bind(r,9477,23)),Promise.resolve().then(r.t.bind(r,9345,23)),Promise.resolve().then(r.t.bind(r,2089,23)),Promise.resolve().then(r.t.bind(r,6577,23)),Promise.resolve().then(r.t.bind(r,1307,23))}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[80,825,282],()=>r(7535));module.exports=i})();